<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>üîÄ Cross-Platform Builds In Python | Just-in-Time learning</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="üîÄ Cross-Platform Builds In Python" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Inquisitive. Learning. Sharing. Simplicity = Reliability" />
<meta property="og:description" content="Inquisitive. Learning. Sharing. Simplicity = Reliability" />
<link rel="canonical" href="http://0.0.0.0:4000/py-cross-compile/" />
<meta property="og:url" content="http://0.0.0.0:4000/py-cross-compile/" />
<meta property="og:site_name" content="Just-in-Time learning" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-11-11T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="üîÄ Cross-Platform Builds In Python" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-11-11T00:00:00+00:00","datePublished":"2024-11-11T00:00:00+00:00","description":"Inquisitive. Learning. Sharing. Simplicity = Reliability","headline":"üîÄ Cross-Platform Builds In Python","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/py-cross-compile/"},"url":"http://0.0.0.0:4000/py-cross-compile/"}</script>
<!-- End Jekyll SEO tag -->
<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://0.0.0.0:4000/feed.xml" title="Just-in-Time learning" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
delimiters: [
{left: "$$", right: "$$", display: true},
{left: "[%", right: "%]", display: true},
{left: "$", right: "$", display: false}
]}
);
        });
</script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
                if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
                }
                });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>











<link rel="stylesheet" href="/assets/css/style.css">
<script src="/assets/js/theme.js"></script>

</head>
<body><script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script>
<script src="/assets/js/search.js"></script>

<header class="site-header">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Just-in-Time learning</a>
    <nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18px" height="15px">
            <path
              d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,12.031,18,12.696,18,13.516L18,13.516z" />
          </svg>
        </span>
      </label>

      <div class="trigger">
        <div class="search-container">
          <input type="text" id="search-input" placeholder="Search..." aria-label="Search posts" class="search-input">
          <div id="search-results" class="search-results"></div>
        </div>
        <a class="page-link" href="/aihub">AI Hub</a>
        <a class="page-link" href="/about">About</a>
        <button class="theme-toggle" onclick="toggleTheme()" id="theme-toggle">
  üåô Dark
</button>

<script>
function toggleTheme() {
    const body = document.querySelector('body');
    const button = document.getElementById('theme-toggle');
    const isDark = body.classList.toggle('dark-theme');
    
    button.innerHTML = isDark ? '‚òÄÔ∏è Light' : 'üåô Dark';
    localStorage.setItem('darkTheme', isDark);
}

document.addEventListener('DOMContentLoaded', function() {
    if (localStorage.getItem('darkTheme') === 'true') {
        document.querySelector('body').classList.add('dark-theme');
        document.getElementById('theme-toggle').innerHTML = '‚òÄÔ∏è Light';
    }
});
</script>

      </div>
    </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">
  <h1>üîÄ Cross-Platform Builds In Python</h1>

  <div class="post-meta">
    <span class="post-date">Nov 11, 2024</span>
    <span class="reading-time">





  5 minutes read

</span>
  </div>
  
  <!-- Debug info -->
  <!-- <div style="color: red;"> -->
  <!--   TOC enabled: true -->
  <!--   Layout: post -->
  <!-- </div> -->
  
  
    <nav class="toc">
  <div class="toc-header">
    <h2>Contents</h2>
    <button class="toc-toggle" aria-label="Toggle table of contents">
      <svg class="toc-icon" viewBox="0 0 24 24" width="24" height="24">
        <path class="chevron-down" d="M6 9l6 6 6-6"></path>
      </svg>
    </button>
  </div>
  <div class="toc-content">
    <ul>
      
      
        
      
        
          
          <li class="toc-level-2">
            <a href="#introduction">Introduction</a>
            
            
            
          </li>
        
      
        
          
          <li class="toc-level-2">
            <a href="#taking-the-scenic-route">Taking The Scenic Route</a>
            
            
            
              <ul>
                
                  
                
                  
                    
                    <li class="toc-level-3">
                      <a href="#julia">Julia</a>
                    </li>
                  
                
                  
                    
                    <li class="toc-level-3">
                      <a href="#elixir">Elixir</a>
                    </li>
                  
                
                  
                    
                    <li class="toc-level-3">
                      <a href="#deno-typescript">Deno (TypeScript)</a>
                    </li>
                  
                
              </ul>
            
          </li>
        
      
        
          
          <li class="toc-level-2">
            <a href="#what-about-python-cross-compilation">What About Python Cross-Compilation?</a>
            
            
            
          </li>
        
      
        
          
          <li class="toc-level-2">
            <a href="#conclusion">Conclusion</a>
            
            
            
          </li>
        
      
    </ul>
  </div>
</nav>

  
  
  <!--more-->

<h2 id="introduction">Introduction</h2>
<p>In the last couple of years I‚Äôve spoken to 3-4 people who had needed a bespoke data analysis tool that could be used locally, with privacy in mind. In some cases they‚Äôd need to work in a sandboxed environment for security reasons, other times they had IP protection concerns. A desktop app or a CLI tool<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> seemed to fit the bill in all those cases. <br />
In the last decade+, Data and Python have become a synonym. <a href="https://pyinstaller.org/">PyInstaller</a> seemed like an obvious choice. However, PyInstaller cannot cross-compile code as it stands. Being a <em>Linux</em> user, offering to help <em>Windows</em> users, meant I should find a workaround e.g. leveraging GitHub Actions for cross-compilation.</p>

<h2 id="taking-the-scenic-route">Taking The Scenic Route</h2>
<p>Out of curiosity, I decided to have a poke around a couple of different languages and ecosystems that could teach me a few things while helping me understand what is a viable alternative to Python.</p>
<h3 id="julia">Julia</h3>
<p>The <a href="https://julialang.org/">Julia</a> programming language has caught my eye since 2014. It partially reminded me of MATLAB, that I used for my PhD. Familiarity aside, it‚Äôs a great language to develop with. It‚Äôs fast, interactive, with the best REPL I‚Äôve encountered, highly promising overall especially so after the release of Julia v1.9.<br />
To my understanding Julia, being a JIT compiled language, wasn‚Äôt designed for static compilation per se. Community efforts have enabled the generation of compiled packages, with <a href="https://binarybuilder.org/">BinaryBuilder</a>, <a href="https://julialang.github.io/PackageCompiler.jl">PackageCompiler</a> and <a href="https://github.com/tshort/StaticCompiler.jl">StaticCompiler</a> being the most well known compilation tools available at the time of writing. From an intermediate Julia user‚Äôs point of view, I‚Äôve found that compilation results may vary. Also, to the best of my knowledge most compilation tools actually <em>package</em> code rather than statically compile it, which may expose valuable IP. Therefore, I concluded that Julia <em>probably</em> isn‚Äôt as easy to compile as I initially thought (and hoped).</p>
<h3 id="elixir">Elixir</h3>
<p><a href="https://elixir-lang.org/">Elixir</a> is a fantastic hosted functional language, running on the tried and tested <a href="https://en.wikipedia.org/wiki/BEAM_(Erlang_virtual_machine)">BEAM (Erlang VM)</a>. One of the many things Elixir has going for it, is its strong drive towards <em>good</em> documentation. The language‚Äôs REPL is also excellent. All in all, Elixir is rapidly evolving and it‚Äôs worth experimenting with.  <br />
Starting from 2021, <a href="https://github.com/elixir-nx">Numerical Elixir (Nx)</a> has progressed by leaps and bounds. The Nx community has managed to produce excellent libraries, with <a href="https://livebook.dev/">Livebook</a> being the best literate programming environment I‚Äôve ever used. As far as data applications are concerned, Elixir will become a <em>very strong</em> contender, it‚Äôs well worth keeping a close eye on the language.<br />
As for cross-compilation, to my understanding <a href="https://hex.pm/packages/burrito">Burrito</a> is the only tool that allows for packaged Elixir code to be truly portable albeit producing sizeable executables. Burrito is still WIP, not a guaranteed solution for the time being but a noteworthy tool that‚Äôs improving fast.<br />
Being doubtful as to whether this tech stack could meet all my current needs, beside being a niche language in Data and AI, led me to search for another tech stack for fun and profit.</p>
<h3 id="deno-typescript">Deno (TypeScript)</h3>
<p>More recently, especially given many AI Engineering APIs are written both in Python <em>and</em> TypeScript, I started using Deno. The idea is to leverage Deno for all my computational needs, since it‚Äôs an all-in-one, straightforward to use runtime. Installation and setup were a breeze, Deno comes with <em>all</em> the tools a developer requires (formatter, linter, testing suite, package manager etc.), it plays very nicely with Vim, it‚Äôs lightweight, secure, compatible with NPM packages and the list goes on. Importantly, it can easily cross-compile executables. The data and AI ecosystem is not yet as mature as that of Python. However, if someone is willing to put in the effort, I‚Äôve found that it‚Äôs well worth the investment. This is why I am betting on Deno for my Data Science and AI needs.</p>

<h2 id="what-about-python-cross-compilation">What About Python Cross-Compilation?</h2>
<p><strong>How hard could it be?</strong> ü§î <br />
<strong>TL;DR:</strong> it‚Äôs an involved process that requires access to a CI/CD platform such as GitHub Actions. Once a pipeline is in place, it‚Äôs a straightforward process that requires internet access and registering to a hosting service such as GitHub.</p>

<p>I wrote two pipelines, one for generating a <a href="https://github.com/ai-mindset/py-cross-compile/blob/main/.github/workflows/unix-build.yml">Unix build</a> and one for <a href="https://github.com/ai-mindset/py-cross-compile/blob/main/.github/workflows/win-build.yml">Windows</a>. The result is pretty decent, however the cumbersome process and reliance on third party tech (GitHub Actions in this case) strengthened my conviction that Deno and TypeScript are worth investing in, for a more complete solution. The JS/DS Data<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup> ecosystem is not as mature yet but it‚Äôs evolving pretty fast.</p>

<h2 id="conclusion">Conclusion</h2>
<p>The process of cross-compiling a simple Python app was pretty instructive. The main downside I see is the reliance on a hosting service and a CI/CD platform. Frankly, having access to a hosting service and using CI/CD is almost a given in my line of work. Still, it‚Äôs nowhere near as straightforward as running <code class="language-plaintext highlighter-rouge">$ deno compile main.ts</code>
I am considering attempting the same using <a href="https://podman.io/">Podman</a>, since <a href="https://learn.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/container-base-images">Windows</a>, <a href="https://github.com/sickcodes/Docker-OSX">macOS</a> and <a href="https://hub.docker.com/_/ubuntu/">Linux</a> containers are available. Stay tuned for updates!</p>

<hr />
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>One might argue that running statically compiled executables in a sandboxed environment is a security risk. Static malware analysis tools exist for this exact reason¬†<a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>To be fair, the Data ecosystem is pretty decent and continuously improving. It‚Äôs the ML and statistical ecosystem and specifically the lack of a native Scikit-learn and Scipy-like packages that‚Äôs still somewhat lacking¬†<a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

</article>

<!-- Theme toggle -->
<script>
// Initialize theme from localStorage
if (localStorage.getItem('darkTheme') === 'true') {
    document.body.classList.add('dark-theme');
}
</script>

<!-- Collapsible TOC -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const tocHeader = document.querySelector('.toc-header');
  const toc = document.querySelector('.toc');
  
  if (tocHeader && toc) {
    tocHeader.addEventListener('click', function() {
      toc.classList.toggle('collapsed');
      
      // Optional: Save state to localStorage
      localStorage.setItem('tocCollapsed', toc.classList.contains('collapsed'));
    });
    
    // Optional: Restore state from localStorage
    const isCollapsed = localStorage.getItem('tocCollapsed') === 'true';
    if (isCollapsed) {
      toc.classList.add('collapsed');
    }
  }
});
</script>

<div class="post-tags">
  Tags: 
  
    <a href="/">python</a>, 
  
    <a href="/">github-actions</a>, 
  
    <a href="/">ci-cd</a>, 
  
    <a href="/">cross-platform</a>, 
  
    <a href="/">deno</a>, 
  
    <a href="/">typescript</a>
  
</div>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Just-in-Time learning</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Just-in-Time learning</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list">
  <li><a href="https://github.com/ai-mindset"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ai-mindset</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Inquisitive. Learning. Sharing. Simplicity = Reliability</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
